# Gemini in BigQuery Demo

This repository contains a comprehensive demo showcasing the capabilities of Gemini within BigQuery. The demo guides users through leveraging Gemini's AI-powered assistance for data preparation, exploration, analysis, and data science tasks.  It also provides a synthetic cybersecurity dataset with users, devices, and events tables to experiment with.

## Introduction to Gemini Capabilities in BigQuery

Gemini enhances data workflows by providing AI-powered assistance for data preparation, exploration, analysis, and data science. Key capabilities include:

* Data Preparation: Low-code, visual interface for data preparation where Gemini suggests context-aware transformations and helps build ETL pipelines with natural language prompts.
* Data Insights: Gemini generates key insights and sample queries, accelerating data analysis.
* Data Canvas: Gemini enables natural language searches and data visualization within a collaborative canvas environment.
* Python Notebook: Gemini assists in Python notebook analysis, providing code suggestions and visualization recommendations.

_Note: Some of the capabilities like semantic search, data quality are powered by dataplex, and scheduling by dataform._

## Getting Started

### Dataset
- Cybersecurity analytics dataset used in this repository and associated demo was created using the faker python library
- See the dummy dataset generation [notebook](https://github.com/p-sama/gemini-in-bq/blob/main/cybersecurity_dummy_data_generation.ipynb) for reference
- Download the three tables `events`, `users`, and `devices` generated by the notebook and upload to your own BigQuery environment

Follow the step-by-step guide in the documentation to recreate the demo and explore the power of Gemini in BigQuery for your own data workflows.

### User Flow 1: Data Preparation
- Access BigQuery Console:
  - Open the Google Cloud Console
  - Navigate to BigQuery
- Select Data Preparation Interface:
  - Locate the `events` table in your dataset
  - Click on the `View actions` (three dots) next to the table name
  - Click `Open in` the `Data Preparation` to open the table in the data preparation interface
- Utilize Gemini Suggestions:
  - Observe the transformations suggestions provided by Gemini on the right side
  - Apply relevant transformations
- Join Tables:
  - Use natural language prompts to join the `events` table with the `users` and `devices` tables
  - Gemini automatically establishes relationships between tables. If needed, modify the join condition directly, or use a natural language prompt
- Address Data Quality Issues:
  - Navigate to the data preparation visual flow, click on `users` table, and review data quality issues identified by Gemini
  - For example, standardize name formats, remove duplicates, and handle missing values
  - Click `Apply` to apply the suggested corrective actions
- Add Custom Transformations:
  - Click `Add step` to create custom transformations
  - Use natural language prompt to define a standard date format for the created_at column
- Set Destination Table:
  - Define a destination table for the prepared data
- Run and Schedule Workflow:
  - Click `Run Now` to execute the data pipeline
  - Click on `Schedule` to schedule the workflow for daily or other cadences
  - Navigate to the `Scheduling` tab (left nav pane) to find / manage the workflow

### User Flow 2: Data Insights and Data Canvas
- Access Data Canvas:
  - Open the BigQuery console
  - Navigate to the Data Canvas interface
- Search for Table:
  - Use natural language search to find the `events_analytics` table (the result of the Data Preparation workflow)
- Activate Data Insights:
  - Select the table
  - Click on the `Insights` tab
  - Generate insights using Gemini
- Select and Run Query:
  - Review the insights and sample queries generated by Gemini
  - Select a relevant query and copy it to the query editor
  - Run the query
- Refine Analysis:
  - Use natural language prompts to generate follow-up or drill-down queries
  - Join results with other tables as needed
- Visualize Findings:
  - Generate a chart within the Data Canvas to visualize the results
  - Ask Gemini to summarize key findings from the analysis

### User Flow 3: Cloud Assist
- Open Complex Query:
  - Access a complex SQL query within the BigQuery console
- Explain Query with Cloud Assist:
  - Select the query
  - Click on `Explain`
- Review the explanation provided by Cloud Assist, detailing the query's logic and functionality

### User Flow 4: Python Notebook
- See [README_flow4.md](https://github.com/p-sama/gemini-in-bq/blob/main/README_flow4.md)



